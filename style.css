body { margin:0; font-family: Helvetica, Arial, sans-serif; }
.app-container { display:flex; height:100vh; background:#e6f0f7; }

/* Sidebar */
.sidebar { 
  width:250px; 
  background: linear-gradient(180deg, red, orange, yellow, green, blue, indigo, violet); 
  color:white; 
  padding:10px; 
  display:flex; 
  flex-direction:column; 
  border-right:2px solid #ccc; 
  transition:width 0.3s, transform 0.3s ease-in-out; 
}
.sidebar.collapsed { width:60px; padding:10px 5px; }
.sidebar-header { display:flex; justify-content:space-between; align-items:center; }
.toggle-btn { background:none; border:none; color:white; font-size:18px; cursor:pointer; }
.add-btn { background:#ff69b4; border:none; color:white; padding:8px 10px; margin:10px 0; border-radius:4px; cursor:pointer; }
.add-icon-btn { display:none; background:#ff69b4; border:none; color:white; width:40px; height:40px; border-radius:50%; cursor:pointer; margin:10px auto; }
.sidebar.collapsed .add-btn, .sidebar.collapsed h2, .sidebar.collapsed .friend-name { display:none; }
.sidebar.collapsed .add-icon-btn { display:block; }
.sidebar ul { list-style:none; padding:0; flex:1; overflow-y:auto; }
.sidebar ul li { display:flex; align-items:center; padding:10px; border-bottom:1px solid rgba(255,255,255,0.2); cursor:pointer; }
.sidebar ul li img { width:40px; height:40px; border-radius:50%; margin-right:10px; }
.sidebar.collapsed ul li { justify-content:center; }
.sidebar.collapsed ul li img { margin:0; }

/* Chat area */
.chat-container { flex:1; display:flex; flex-direction:column; position:relative; background: url('https://images.unsplash.com/photo-1502082553048-f009c37129b9?auto=format&fit=crop&w=800&q=80') no-repeat center center; background-size: cover; backdrop-filter: blur(2px); }
.chat-header { 
  position: sticky; 
  top: 0;
  z-index: 10;
  height:60px; 
  background:rgba(255,255,255,0.95); 
  color:black; 
  display:flex; 
  align-items:center; 
  padding:0 15px; 
  border-bottom:1px solid #ccc; 
}
.chat-header img { cursor:pointer; width:40px; height:40px; border-radius:50%; margin-right:10px; }
.chat-box { flex:1; padding:10px; overflow-y:auto; display:flex; flex-direction:column; scroll-behavior: smooth; }

/* Back button */
.back-btn { display: none; background: none; border: none; font-size: 20px; margin-right: 10px; cursor: pointer; }

/* Messages */
.message { padding:10px 14px; margin:6px 0; border-radius:18px; max-width:60%; word-wrap:break-word; display:inline-block; font-size:14px; line-height:1.4; position:relative; background:rgba(255,255,255,0.85); }
.message.user { background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet); color:white; margin-left:auto; text-align:right; }
.message.bot { background: rgba(220,220,220,0.85); color:black; margin-right:auto; text-align:left; }
.message img { max-width:200px; border-radius:12px; display:block; }
.message .status { display:block; font-size:12px; color:rgba(0,0,0,0.45); margin-top:2px; }
.message.user .status { color: rgba(255,255,255,0.7); }
.message .timestamp { display:block; font-size:11px; color:#777; margin-top:2px; }

/* Chat input area */
.chat-input-area { 
  position: sticky; 
  bottom: 0; 
  left: 0; 
  width: 100%; 
  display:flex; 
  align-items:center; 
  padding:8px 12px; 
  background:rgba(255,255,255,0.95); 
  border-top:1px solid #ccc; 
  box-sizing:border-box; 
  z-index: 10; 
}
.chat-input-area input[type=text] { flex:1; padding:10px 12px; border:none; outline:none; border-radius:20px; background:#f0f2f5; font-size:14px; margin:0 8px; }
.emoji-btn, .attach-btn { font-size:20px; background:none; border:none; cursor:pointer; }
.send-btn { background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet); border:none; color:white; padding:10px 15px; border-radius:50%; cursor:pointer; font-weight:bold; }

/* Emoji panel */
.emoji-panel { display:none; position:absolute; bottom:60px; left:0; width:100%; background:white; border-top:1px solid #ccc; max-height:300px; z-index:100; flex-direction:column; }
.emoji-tabs { display:flex; border-bottom:1px solid #ccc; overflow-x:auto; }
.emoji-tabs .tab-btn { flex:1; padding:8px; border:none; background:none; font-size:18px; cursor:pointer; }
.emoji-tabs .tab-btn.active { background:#eee; }
.emoji-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(32px,1fr)); gap:5px; padding:8px; overflow-y:auto; max-height:250px; }
.emoji-grid span { font-size:24px; cursor:pointer; display:flex; align-items:center; justify-content:center; padding:4px; border-radius:4px; }
.emoji-grid span:hover { background:#eee; }

/* Profile modal */
.profile-modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:1000; justify-content:center; align-items:center; }
.profile-content { background:white; padding:20px; border-radius:10px; text-align:center; width:300px; position:relative; }
.profile-content img { width:120px; height:120px; border-radius:50%; margin-bottom:10px; }
.profile-content h2 { margin:10px 0; }
.close-btn { position:absolute; top:5px; right:10px; font-size:24px; cursor:pointer; }

/* -------- Mobile Responsive Adjustments -------- */
@media (max-width: 600px) {
  .app-container { flex-direction: column; }

  /* Sidebar hidden by default */
  .sidebar {
    position: absolute;
    top: 0; left: 0;
    height: 100%;
    width: 220px;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
    z-index: 1000;
  }
  .sidebar.active { transform: translateX(0); }

  /* Chat fills full screen */
  .chat-container { flex: 1; height: 100vh; }

  /* Chat header smaller + back button visible */
  .chat-header { height: 50px; font-size: 14px; padding: 0 10px; }
  .back-btn { display: inline-block; }

  /* Messages + input area adjustments */
  .chat-box { padding: 6px; }
  .message { font-size: 12px; max-width: 75%; padding: 8px 10px; }
  .chat-input-area { padding: 6px 8px; }
  .chat-input-area input[type=text] { font-size: 12px; padding: 8px; }
  .emoji-panel { max-height: 200px; }
}
